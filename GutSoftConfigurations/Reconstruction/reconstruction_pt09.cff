# initialize  MessageLogger
include "GutSoftConfigurations/MessageLogger/messageLogger.cff"

# input
source = PoolSource
{
  untracked vstring fileNames = 
  {
    "file:test.root"
  }
  untracked int32  maxEvents  = -1
  untracked uint32 skipEvents = 0
}

# timer
include "GutSoftConfigurations/Timing/timing.cff"

# include tracking truth
include "SimGeneral/TrackingAnalysis/data/trackingtruth.cfi"

# RoadSearchHitDumper
#include "RecoTracker/RoadSearchSeedFinder/data/roadSearchHitDumper.cff"

# include track reconstruction
include "RecoTracker/Configuration/data/RecoTracker.cff"
replace roadSearchSeeds.MinimalReconstructedTransverseMomentum = 0.9 
replace roadSearchSeeds.PhiRangeForDetIdLookupInRings = 0.9

# trackObjects
include "GutSoftConfigurations/TrackObjects/trackObjects.cff"

# trackEfficiencyObjects
include "GutSoftConfigurations/TrackObjects/trackEfficiencyObjects.cff"

# global muon analyzer
include "GutSoftAnalyzers/GutSoftGlobalMuonAnalyzer/data/gutSoftGlobalMuonAnalyzer.cff"

# timing analyzer
include "GutSoftAnalyzers/GutSoftTimingAnalyzer/data/ckfGutSoftTimingAnalyzer.cff"
include "GutSoftAnalyzers/GutSoftTimingAnalyzer/data/rsGutSoftTimingAnalyzer.cff"

# output
module out = PoolOutputModule 
{
  untracked string fileName = 'output.root'
  untracked vstring outputCommands = 
  {
    "keep *",
    "drop recoMETs_*_*_PROD",
    "drop *_ecalUnsuppressedDigis_*_*",
    "drop recoCandidatesOwned_*_*_*"
  }
} 


path pR = {
#  roadSearchHitDumper,
  trackingtruth,
  ckftracks,
  rstracks
}

path pT = {
  timing
}

path p1 = 
{
  trackObjects,
  trackEfficiencyObjects
}

#path p2 =
#{
#  gutSoftGlobalMuonAnalyzer
#}

path p3 =
{
  ckfGutSoftTimingAnalyzer,
  rsGutSoftTimingAnalyzer
}

#schedule = {pR,pT,p1,p2,p3,e}
schedule = {pR,pT,p1,p3,e}

endpath e =
{
  out
}
