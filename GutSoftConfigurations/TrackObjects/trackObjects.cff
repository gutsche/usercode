# seed analyzers
include "GutSoftAnalyzers/TrajectorySeedAnalyzer/data/rsSeedAnalyzer.cff" 
include "GutSoftAnalyzers/TrajectorySeedAnalyzer/data/ckfSeedAnalyzer.cff" 

# cloud analyzers
include "GutSoftAnalyzers/RoadSearchCloudAnalyzer/data/rawRoadSearchCloudAnalyzer.cff" 
include "GutSoftAnalyzers/RoadSearchCloudAnalyzer/data/cleanRoadSearchCloudAnalyzer.cff" 

# track candidate analyzers
include "GutSoftAnalyzers/TrackCandidateAnalyzer/data/rsTrackCandidateAnalyzer.cff" 
include "GutSoftAnalyzers/TrackCandidateAnalyzer/data/ckfTrackCandidateAnalyzer.cff" 

# track analyzers
include "GutSoftAnalyzers/TrackAnalyzer/data/rsTrackAnalyzer.cff" 
include "GutSoftAnalyzers/TrackAnalyzer/data/ckfTrackAnalyzer.cff" 

# same number of tracks filter
include "GutSoftFilters/SameNumberOfTracksFilter/data/sameNumberOfTracksFilter.cff"
replace sameNumberOfTracksFilter.NumberOfTracks = 1
replace sameNumberOfTracksFilter.TrackProducerLabels = { "rsWithMaterialTracks",
                                                   "ctfWithMaterialTracks" }

# seed analyzers for same number of tracks
module rsSeedAnalyzerSameNumberOfTracks = trajectorySeedAnalyzer from "GutSoftAnalyzers/TrajectorySeedAnalyzer/data/trajectorySeedAnalyzer.cfi"
replace rsSeedAnalyzerSameNumberOfTracks.OutputFileName              = "rsSeedAnalyzer_Same_1.root"  
replace rsSeedAnalyzerSameNumberOfTracks.TrajectorySeedProducerLabel = "roadSearchSeeds"
replace rsSeedAnalyzerSameNumberOfTracks.BaseDirectoryName           = "rsSeeds_Same_1"
module ckfSeedAnalyzerSameNumberOfTracks = trajectorySeedAnalyzer from "GutSoftAnalyzers/TrajectorySeedAnalyzer/data/trajectorySeedAnalyzer.cfi"
replace ckfSeedAnalyzerSameNumberOfTracks.OutputFileName              = "ckfSeedAnalyzer_Same_1.root"  
replace ckfSeedAnalyzerSameNumberOfTracks.TrajectorySeedProducerLabel = "globalMixedSeeds"
replace ckfSeedAnalyzerSameNumberOfTracks.BaseDirectoryName           = "ckfSeeds_Same_1"

# cloud analyzers for same number of tracks
module rawRoadSearchCloudAnalyzerSameNumberOfTracks = roadSearchCloudAnalyzer from "GutSoftAnalyzers/RoadSearchCloudAnalyzer/data/roadSearchCloudAnalyzer.cfi"
replace rawRoadSearchCloudAnalyzerSameNumberOfTracks.OutputFileName               = "rawRoadSearchCloudAnalyzer_Same_1.root"  
replace rawRoadSearchCloudAnalyzerSameNumberOfTracks.RoadSearchCloudProducerLabel = "rawRoadSearchClouds"
replace rawRoadSearchCloudAnalyzerSameNumberOfTracks.BaseDirectoryName            = "rawClouds_Same_1"
module cleanRoadSearchCloudAnalyzerSameNumberOfTracks = roadSearchCloudAnalyzer from "GutSoftAnalyzers/RoadSearchCloudAnalyzer/data/roadSearchCloudAnalyzer.cfi"
replace cleanRoadSearchCloudAnalyzerSameNumberOfTracks.OutputFileName               = "cleanRoadSearchCloudAnalyzer_Same_1.root"  
replace cleanRoadSearchCloudAnalyzerSameNumberOfTracks.RoadSearchCloudProducerLabel = "cleanRoadSearchClouds"
replace cleanRoadSearchCloudAnalyzerSameNumberOfTracks.BaseDirectoryName            = "cleanClouds_Same_1"

# track candidate analyzers for same number of tracks
module rsTrackCandidateAnalyzerSameNumberOfTracks = trackCandidateAnalyzer from "GutSoftAnalyzers/TrackCandidateAnalyzer/data/trackCandidateAnalyzer.cfi"
replace rsTrackCandidateAnalyzerSameNumberOfTracks.OutputFileName              = "rsTrackCandidateAnalyzer_Same_1.root"  
replace rsTrackCandidateAnalyzerSameNumberOfTracks.TrackCandidateProducerLabel = "rsTrackCandidates"
replace rsTrackCandidateAnalyzerSameNumberOfTracks.BaseDirectoryName           = "rsTrackCandidates_Same_1"
module ckfTrackCandidateAnalyzerSameNumberOfTracks = trackCandidateAnalyzer from "GutSoftAnalyzers/TrackCandidateAnalyzer/data/trackCandidateAnalyzer.cfi"
replace ckfTrackCandidateAnalyzerSameNumberOfTracks.OutputFileName              = "ckfTrackCandidateAnalyzer_Same_1.root"  
replace ckfTrackCandidateAnalyzerSameNumberOfTracks.TrackCandidateProducerLabel = "ckfTrackCandidates"
replace ckfTrackCandidateAnalyzerSameNumberOfTracks.BaseDirectoryName           = "ckfTrackCandidates_Same_1"

# track analyzers for same number of tracks
module rsTrackAnalyzerSameNumberOfTracks = trackAnalyzer from "GutSoftAnalyzers/TrackAnalyzer/data/trackAnalyzer.cfi"
replace rsTrackAnalyzerSameNumberOfTracks.OutputFileName     = "rsTrackAnalyzer_Same_1.root"  
replace rsTrackAnalyzerSameNumberOfTracks.TrackProducerLabel = "rsWithMaterialTracks"
replace rsTrackAnalyzerSameNumberOfTracks.BaseDirectoryName  = "rsTracks_Same_1"
module ckfTrackAnalyzerSameNumberOfTracks = trackAnalyzer from "GutSoftAnalyzers/TrackAnalyzer/data/trackAnalyzer.cfi"
replace ckfTrackAnalyzerSameNumberOfTracks.OutputFileName     = "ckfTrackAnalyzer_Same_1.root"  
replace ckfTrackAnalyzerSameNumberOfTracks.TrackProducerLabel = "ctfWithMaterialTracks"
replace ckfTrackAnalyzerSameNumberOfTracks.BaseDirectoryName  = "ckfTracks_Same_1"

sequence allTracks = {
  rsSeedAnalyzer, 
  ckfSeedAnalyzer, 
  rawRoadSearchCloudAnalyzer, 
  cleanRoadSearchCloudAnalyzer, 
  rsTrackCandidateAnalyzer, 
  ckfTrackCandidateAnalyzer, 
  rsTrackAnalyzer, 
  ckfTrackAnalyzer
}

sequence filteredTracks = {
  sameNumberOfTracksFilter,
  rsSeedAnalyzerSameNumberOfTracks,
  ckfSeedAnalyzerSameNumberOfTracks,
  rawRoadSearchCloudAnalyzerSameNumberOfTracks, 
  cleanRoadSearchCloudAnalyzerSameNumberOfTracks, 
  rsTrackCandidateAnalyzerSameNumberOfTracks, 
  ckfTrackCandidateAnalyzerSameNumberOfTracks, 
  rsTrackAnalyzerSameNumberOfTracks, 
  ckfTrackAnalyzerSameNumberOfTracks
}

sequence trackObjects = {
  allTracks,
  filteredTracks
}
